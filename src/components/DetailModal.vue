<template>
    <div v-if="visible" class="modal-overlay" @click.self="close">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">{{ post?.pSchool }} {{ post?.pDep }}</h3>
                <button class="close-btn" @click="close">Ã—</button>
            </div>
            
            <div class="modal-body">
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">æ¨ç”„å¹´åº¦</div>
                        <div class="info-value">{{ post?.pYear || '-' }}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">ç™¼å¸ƒæ—¥æœŸ</div>
                        <div class="info-value">{{ post?.pDate || '-' }}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">æˆç¸¾æ’å</div>
                        <div class="info-value">{{ post?.pScore || '-' }}</div>
                    </div>
                    <div class="info-item" v-if="post?.pGPA">
                        <div class="info-label">GPA</div>
                        <div class="info-value">{{ post.pGPA }}</div>
                    </div>
                </div>

                <div class="section">
                    <h4 class="section-title">ğŸ“š èƒŒæ™¯èˆ‡ç¶“æ­·</h4>
                    <div class="section-content">{{ post?.pExp || 'ç„¡ç›¸é—œè³‡è¨Š' }}</div>
                </div>

                <div class="section">
                    <h4 class="section-title">ğŸ¯ æ¨ç”„çµæœ</h4>
                    <div class="section-content">{{ post?.pResult1 || 'ç„¡ç›¸é—œè³‡è¨Š' }}</div>
                </div>

                <div class="section" v-if="post?.pURL">
                    <h4 class="section-title">ğŸ”— è³‡æ–™ä¾†æº</h4>
                    <a :href="post.pURL" target="_blank" class="source-link">
                        ğŸ“– æŸ¥çœ‹ Dcard åŸæ–‡
                    </a>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
    const props = defineProps({
        post: { type: Object, default: null },
        visible: { type: Boolean, default: false }
    });

    const emit = defineEmits(['close']);;
    function close() {
        emit('close');
    };
</script>