<template>
    <div v-if="visible" class="modal-overlay" @click.self="close">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">{{ post?.pSchool }} {{ post?.pDep }}</h3>
                <button class="close-btn" @click="close">Ã—</button>
            </div>
            
            <div class="modal-body">
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">æ±‚å­¸å¹´ä»½</div>
                        <div class="info-value">{{ post?.pYear || '-' }}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">åˆ†äº«æ™‚å…‰</div>
                        <div class="info-value">{{ post?.pDate || '-' }}</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">å­¸æ¥­è¡¨ç¾</div>
                        <div class="info-value">{{ post?.pScore || '-' }}</div>
                    </div>
                    <div class="info-item" v-if="post?.pGPA">
                        <div class="info-label">GPA</div>
                        <div class="info-value">{{ post.pGPA }}</div>
                    </div>
                </div>

                <div class="section">
                    <h4 class="section-title">ğŸ“– æ±‚å­¸æ­·ç¨‹</h4>
                    <div class="section-content">{{ post?.pExp || 'é€™æ®µæ—…ç¨‹å°šæœªè¨˜éŒ„...' }}</div>
                </div>

                <div class="section">
                    <h4 class="section-title">ğŸŒŸ æ”¶ç©«èˆ‡æˆæœ</h4>
                    <div class="section-content">{{ post?.pResult1 || 'æˆæœä»åœ¨é†é‡€ä¸­...' }}</div>
                </div>

                <div class="section" v-if="post?.pURL">
                    <h4 class="section-title">ğŸ“œ æ•…äº‹å‡ºè™•</h4>
                    <a :href="post.pURL" target="_blank" class="source-link">
                        âœ¨ é–±è®€å®Œæ•´æ•…äº‹
                    </a>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
    const props = defineProps({
        post: { type: Object, default: null },
        visible: { type: Boolean, default: false }
    });

    const emit = defineEmits(['close']);;
    function close() {
        emit('close');
    };
</script>